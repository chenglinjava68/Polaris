<?xml version="1.0" encoding="UTF-8"?>
<project name="winning-activiti" default="workflow.package.all">
	<!-- properties from files -->
	<property file="build.properties" />

	<!-- properties from key value -->
	<property name="workflow.diagrams" value="src/main/resources/diagrams" />
	<property name="workflow.deployments" value="src/main/resources/deployments" />

	<!-- 流程定义：每个模块的路径 -->
	<property name="wd.wgshxx" value="${workflow.diagrams}/wgshxx" />
	<property name="wd.claim" value="${workflow.diagrams}/claim" />

	<!-- 显示欢迎信息以及操作提示 -->
	<target name="welcome">
		<echo>Activiti演示程序，请输入命令后操作！</echo>
	</target>

	<!-- 违规审核 -->
	<target name="workflow.package.wgshxx">
		<echo>违规审核</echo>
		<copy file="${wd.wgshxx}/wgshxx.bpmn" tofile="${wd.wgshxx}/wgshxx.bpmn20.xml" />
		<zip destfile="${workflow.deployments}/wgshxx.bar" basedir="${wd.wgshxx}" update="true" includes="*.xml,*.png" />
		<delete file="${wd.wgshxx}/wgshxx.bpmn20.xml" />
	</target>

	<!-- 理赔直付 -->
	<target name="workflow.package.claim">
		<echo>理赔直付 </echo>
		<copy file="${wd.claim}/claim.bpmn" tofile="${wd.claim}/claim.bpmn20.xml" />
		<zip destfile="${workflow.deployments}/claim.bar" basedir="${wd.claim}" update="true" includes="*.xml,*.png" />
		<delete file="${wd.claim}/claim.bpmn20.xml" />
	</target>

	<!-- 流程定义打包 -->
	<target name="workflow.package.all" depends="workflow.package.claim,workflow.package.wgshxx">
	</target>
</project>
